# Written by Flavio (HF.24000 - HF.24239)


namespace=HF

character_event = { # Great warrior character chance
	id = HF.99
	hide_window = yes
	
	is_triggered_only = yes
	
	only_playable = yes
	only_capable = yes
	prisoner = no
	min_age = 16

	trigger = {
		any_owned_bloodline = {
			has_bloodline_flag = bloodline_heroes
			founder = {
				NOT = {
					character = ROOT
				}
				religion = ROOT
			}
		}
		NOT = {
			any_courtier_or_vassal = {
				count = 4
				has_character_flag = bloodline_great_hero
			}
		}
	}
	
	immediate = {
		random_list = {
			80 = {
				modifier = {
					factor = 0.75
					NOT = {
						higher_tier_than = COUNT
					}
				}
				modifier = {
					factor = 0.75
					NOT = {
						higher_tier_than = DUKE
					}
				}
				modifier = {
					factor = 0.75
					any_courtier_or_vassal = {
						count = 2
						has_character_flag = bloodline_great_hero
					}
				}
				modifier = {
					factor = 0.75
					any_courtier_or_vassal = {
						count = 3
						has_character_flag = bloodline_great_hero
					}
				}
				character_event = { id = HF.100 }
			}
			20 = {
				modifier = {
					factor = 3
					ai = yes
				}
			}
		}
	}
}

character_event = { # Great warrior character arrives
	id = HF.100
	desc = HF_100_DESC
	picture = GFX_placeholder
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	only_playable = yes
	only_capable = yes
	prisoner = no
	min_age = 16
	
	immediate = {
		random_owned_bloodline = {
			limit = {
				has_bloodline_flag = bloodline_heroes
				founder = {
					NOT = {
						character = ROOT
					}
					religion = ROOT
				}
			}
			founder = {
				save_event_target_as = target_bloodline_founder
			}
		}
		spawn_fantastic_commander_effect = yes
		event_target:invited_character = {
			set_character_flag = bloodline_great_hero
			set_character_flag = hero_knight
		}
	}
	
	option = {
		name = MNM.70013.o
		
		trigger = {
			any_realm_character = {
				NOT = {
					higher_tier_than = BARON
				}
				liege = { character = ROOT }
				has_minor_title = title_commander
				NOT = {
					martial = 12
				}
			}
			OR = {
				AND = {
					tier = COUNT
					any_realm_character = {
						count = 2
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = DUKE
					any_realm_character = {
						count = 4
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = KING
					is_nomadic = no
					any_realm_character = {
						count = 6
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = no
					any_realm_character = {
						count = 8
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = KING
					is_nomadic = yes
					any_realm_character = {
						count = 2
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = yes
					any_realm_character = {
						count = 4
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
			}
		}
		
		random_realm_character = {
			limit = {
				NOT = {
					higher_tier_than = BARON
				}
				liege = { character = ROOT }
				has_minor_title = title_commander
				NOT = {
					martial = 12
				}
			}
			remove_title = title_commander
			opinion = {
				modifier = insulted
				who = ROOT
				years = 2
			}
		}
		
		event_target:invited_character = {
			give_minor_title = title_commander
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}

	option = {
		name = EVTOPTA_NE_1
		
		trigger = {
			OR = { 
				# NOT = { ROOT = { has_law = succ_byzantine_elective } }  #Either not Imperial...
				NOT = { #...Or there are no valid vassal candidates that can be commanders.
					any_vassal = { 
						higher_real_tier_than = BARON
						NOT = { 
							primary_title = { temporary = yes } 
						}
						OR = {
							AND = {
								OR = {
									male_can_hold_minor_title_trigger = yes
									female_can_hold_minor_commander_title_trigger = yes
								}
								# OR = {
									# NOT = { religion = hindu }
									# trait = kshatriya
								# }
								is_adult = yes
							}
							has_character_flag = special_marshal
						}
				
						prisoner = no
						NOT = { trait = incapable }
						NOT = { is_inaccessible_trigger = yes }
						# NOT = { has_character_flag = guru }
						NOT = { has_character_modifier = refusing_to_lead }
						NOR = {
							has_job_title = job_chancellor
							has_job_title = job_marshal
							has_job_title = job_treasurer
							has_job_title = job_spymaster
							has_job_title = job_spiritual
							has_minor_title = title_commander
						}
					} 
				}
			}
			event_target:invited_character = { has_character_flag = invited_soldier }
			OR = {
				AND = {
					tier = COUNT
					NOT = {
						any_realm_character = {
							count = 2
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = DUKE
					NOT = {
						any_realm_character = {
							count = 4
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = KING
					is_nomadic = no
					NOT = {
						any_realm_character = {
							count = 6
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = no
					NOT = {
						any_realm_character = {
							count = 8
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = KING
					is_nomadic = yes
					NOT = {
						any_realm_character = {
							count = 2
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = yes
					NOT = {
						any_realm_character = {
							count = 4
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
			}
		}
		
		event_target:invited_character = {
			give_minor_title = title_commander
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}
	
	option = {
		name = FANTASTIC
		event_target:invited_character = {
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}
	
	option = {
		name = EVTOPTB_HF_100
		
		hidden_tooltip = {
			event_target:invited_character = { 
				death = {
					death_reason = death_missing
				}
			}
		}
	}
}

##################################################################
##################################################################
# Forge Bloodline Ambition events

#Hidden checks and counters first:

#On_death: check for murders.
character_event = {
	id = HF.24017
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		OR = { 
			death_murder_unknown_trigger = yes
			death_murder_known_trigger = yes
			death_execution_trigger = yes
		}
		killer = { #Not necessary to have the ambition to stack up the variable, but necessary to unlock the bloodline.
			is_playable = yes
			is_landed = yes
			NOT = { trait = incapable }
			NOT = { 
				has_character_flag = flag_about_to_murder_bloodline
			}
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		killer = { 
			murder_bloodline_check_effect = yes
		}
	}
}

#on_war_ended_victory: check for war variable.
# From = Attacker, Root = Defender
character_event = {
	id = HF.24018
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		FROM = { 
			NOR = {
				trait = heresiarch
				trait = peasant_leader
				trait = adventurer
				has_character_flag = flag_about_to_war_bloodline
			}
		}
		ROOT = { 
			NOR = {
				trait = heresiarch
				trait = peasant_leader
				trait = adventurer
			}
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		FROM = { 
			hidden_tooltip = { change_variable = { which = bloodline_won_wars value = 1 } }
			if = { #Pure War Bloodline.
				limit = { 
					check_variable = { which = bloodline_won_wars value = 15 } 
					has_ambition = obj_forge_bloodline
				}
				set_character_flag = flag_about_to_war_bloodline
				character_event = { id = HF.24031 days = 25 random = 25 }
			}
			else_if = { # Murder War Hybrid.
				limit = { 
					check_variable = { which = bloodline_murdered_people value = 20 } 
					check_variable = { which = bloodline_won_wars value = 10 }
					has_ambition = obj_forge_bloodline
				}
				set_character_flag = flag_about_to_war_bloodline
				narrative_event = { id = HF.24045 days = 25 random = 25 }
			}
		}
	}
}

#on_war_ended_defeat: check for war variable.
# From = Attacker, Root = Defender
character_event = {
	id = HF.24019
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		FROM = { 
			NOR = {
				trait = heresiarch
				trait = peasant_leader
				trait = adventurer
			}
		}
		ROOT = { 
			NOR = {
				trait = heresiarch
				trait = peasant_leader
				trait = adventurer
				has_character_flag = flag_about_to_war_bloodline
			}
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		ROOT = { 
			hidden_tooltip = { change_variable = { which = bloodline_won_wars value = 1 } }
			if = { #Pure War Bloodline.
				limit = { 
					check_variable = { which = bloodline_won_wars value = 15 } 
					has_ambition = obj_forge_bloodline
				}
				set_character_flag = flag_about_to_war_bloodline
				character_event = { id = HF.24031 days = 25 random = 25 }
			}
			else_if = { # Murder War Hybrid.
				limit = { 
					check_variable = { which = bloodline_murdered_people value = 20 } 
					check_variable = { which = bloodline_won_wars value = 10 }
					has_ambition = obj_forge_bloodline
				}
				set_character_flag = flag_about_to_war_bloodline
				narrative_event = { id = HF.24045 days = 25 random = 25 }
			}
		}
	}
}

#Fired from ambition: check years at peace.
character_event = {
	id = HF.24020
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		has_ambition = obj_forge_bloodline
		NOT = { check_variable = { which = bloodline_peaceful_years value = 30 } }
	}
	
	is_triggered_only = yes

	immediate = { 
		hidden_tooltip = { change_variable = { which = bloodline_peaceful_years value = 1 } }
		if = { #Pure Peace Bloodline.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 30 } 
				has_ambition = obj_forge_bloodline
			}
			character_event = { id = HF.24037 days = 25 random = 25 }
		}
		else_if = { #Murder Peace Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_murdered_people value = 20 } 
				has_ambition = obj_forge_bloodline
			}
			narrative_event = { id = HF.24046 days = 25 random = 25 }
		}
		else_if = { #Peace Architect Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_built_cities value = 5 } 
				has_ambition = obj_forge_bloodline
			}
			narrative_event = { id = HF.24049 days = 25 random = 25 }
		}
		else_if = { #Peace Castellan Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_built_castles value = 5 } 
				has_ambition = obj_forge_bloodline
			}
			narrative_event = { id = HF.24050 days = 25 random = 25 }
		}
		else_if = { #Peace Monumental Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_built_temples value = 5 } 
				has_ambition = obj_forge_bloodline
			}
			narrative_event = { id = HF.24051 days = 25 random = 25 }
		}
		else = { # Fire again, with yearly delay.
			character_event = { id = HF.24020 days = 365 }
		}
	}
}

#on_war_started: reset peaceful_years variable.
character_event = {
	id = HF.24021
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		has_ambition = obj_forge_bloodline
	}
	
	is_triggered_only = yes

	immediate = { 
		if = { 
			limit = { 
				ROOT = { check_variable = { which = bloodline_peaceful_years value = 1 } } 	
			}
			ROOT = { set_variable = { which = bloodline_peaceful_years value = 0 } }
		}
		if = { 
			limit = { 
				FROM = { check_variable = { which = bloodline_peaceful_years value = 1 } } 	
			}
			FROM = { set_variable = { which = bloodline_peaceful_years value = 0 } }
		}
	}
}

#on_settlement_construction_completed: check the Architect Bloodline.
character_event = {
	id = HF.24022
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		FROM = { holding_type = CITY }
		NOT = {
			has_character_flag = flag_about_to_builder_bloodline
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		change_variable = { which = bloodline_built_cities value = 1 }
		change_variable = { which = bloodline_built_holdings value = 1 }
		if = { #First check for pure Architect Bloodline.
			limit = {
				check_variable = { which = bloodline_built_cities value = 10 }
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24042 days = 25 random = 25 } 
		}
		else_if = { # Then check for Builder Hybrid.
			limit = {
				check_variable = { which = bloodline_built_holdings value = 24 }
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24047 days = 25 random = 25 } 
		}
		else_if = { #Then check for Murder Builder Hybrid.
			limit = {
				killer = { 
					check_variable = { which = bloodline_murdered_people value = 20 } 
					check_variable = { which = bloodline_built_holdings value = 15 } 
					has_ambition = obj_forge_bloodline
				}
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24048 days = 25 random = 25 }
		}
		else_if = { #Peace Architect Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_built_cities value = 5 } 
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24049 days = 25 random = 25 }
		}
	}
}

#on_settlement_construction_completed: check the Castellan Bloodline.
character_event = {
	id = HF.24023
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		FROM = { holding_type = CASTLE }
		NOT = {
			has_character_flag = flag_about_to_builder_bloodline
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		change_variable = { which = bloodline_built_castles value = 1 }
		change_variable = { which = bloodline_built_holdings value = 1 }
		if = { #First check for pure Castellan Bloodline.
			limit = {
				check_variable = { which = bloodline_built_castles value = 10 }
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24043 days = 25 random = 25 } 
		}
		else_if = { # Then check for Builder Hybrid.
			limit = {
				check_variable = { which = bloodline_built_holdings value = 24 }
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24047 days = 25 random = 25 } 
		}
		else_if = { #Then check for Murder Builder Hybrid.
			limit = {
				killer = { 
					check_variable = { which = bloodline_murdered_people value = 20 } 
					check_variable = { which = bloodline_built_holdings value = 15 } 
					has_ambition = obj_forge_bloodline
				}
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24048 days = 25 random = 25 }
		}
		else_if = { #Peace Castellan Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_built_castles value = 5 } 
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24050 days = 25 random = 25 }
		}
	}
}

#on_settlement_construction_completed: check the Monumental Bloodline.
character_event = {
	id = HF.24024
	hide_window = yes
	trigger = { 
		has_dlc = "Holy Fury"
		FROM = { holding_type = TEMPLE }
		NOT = {
			has_character_flag = flag_about_to_builder_bloodline
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		change_variable = { which = bloodline_built_temples value = 1 }
		change_variable = { which = bloodline_built_holdings value = 1 }
		if = { #First check for pure Monumental Bloodline.
			limit = {
				check_variable = { which = bloodline_built_temples value = 10 }
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24044 days = 25 random = 25 } 
		}
		else_if = { # Then check for Builder Hybrid.
			limit = {
				check_variable = { which = bloodline_built_holdings value = 24 }
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24047 days = 25 random = 25 } 
		}
		else_if = { #Then check for Murder Builder Hybrid.
			limit = {
				killer = { 
					check_variable = { which = bloodline_murdered_people value = 20 } 
					check_variable = { which = bloodline_built_holdings value = 15 } 
					has_ambition = obj_forge_bloodline
				}
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24048 days = 25 random = 25 }
		}
		else_if = { #Peace Monumental Hybrid.
			limit = { 
				check_variable = { which = bloodline_peaceful_years value = 15 } 
				check_variable = { which = bloodline_built_temples value = 5 } 
				has_ambition = obj_forge_bloodline
			}
			set_character_flag = flag_about_to_builder_bloodline
			narrative_event = { id = HF.24051 days = 25 random = 25 }
		}
	}
}

#Bloodline notification events for chosen path:

#Pure Murder Bloodline crossroad.
character_event = {
	id = HF.24025
	hide_window = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	is_triggered_only = yes

	immediate = { 
		if = { #First check if qualifies for Death little helper flavor.
			limit = { 
				OR = { 
					NOT = { age = 16 }
					AND = { 
						has_character_flag = flag_forge_bloodline_was_child 
						NOT = { age = 35 } #Should still be somewhat young.
					}
				}
			}
			narrative_event = { id = HF.24026 }
		}
		else = { 
			character_event = { id = HF.24027 } #Otherwise let player decide the flavor.
		}
	}
}

#Child gains Pure Murder Bloodline.
narrative_event = {
	id = HF.24026
	title = EVTTITLEHF24026
	desc = { 
		trigger = { 
			age = 25
		} 
		text = EVTDESCHFA24026
	}
	desc = { 
		trigger = { 
			NOT = { age = 25 } 
		} 
		text = EVTDESCHFB24026
	}
	picture = GFX_evt_child_reading
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder bloodline.
		name = EVTOPTAHF24026
		if = { 
			limit = { NOT = { trait = cruel } } 
			add_trait = cruel
		}
		hidden_tooltip = { 
			if = { 
				limit = { this_has_super_cool_nickname_trigger = no }
				random_list = { 
					10 = { 
						give_nickname = nick_the_deaths_child 
					} 
					10 = { 
						give_nickname = nick_the_snakeling 
					} 
					10 = { 
						give_nickname = nick_the_little_spider 
					} 
					10 = { 
						give_nickname = nick_the_eerie 
					} 
					10 = { 
						give_nickname = nick_the_little_nightmare 
					}
				}
			}
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_murder_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_murder_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult crossroad for pure Murder Bloodline.
character_event = {
	id = HF.24027
	desc = EVTDESCAHF24027
	picture = GFX_evt_whispers
	border = GFX_event_normal_frame_intrigue
	
	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}

	is_triggered_only = yes
	
	# Lunatic Dragon-King Bloodline.
	# Prop up embalmed corpses in Macabre Feast.
	# Hide everything.
	# Entrap next victim.

	option = {
		name = EVTOPTZHF24027
		custom_tooltip = { text = TT_EVTOPTZHF24027 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = no
			}
			ROOT = { give_nickname = nick_the_dragon }
		}
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = yes
			}
			ROOT = { give_nickname = nick_the_dragoness }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_murder_bloodline_05
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24231 } }
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTAHF24027
		custom_tooltip = { text = TT_EVTOPTAHF24027 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_iron_heart }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_murder_bloodline_02
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24028 } }
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTBHF24027
		custom_tooltip = { text = TT_EVTOPTBHF24027 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = no
			}
			ROOT = { give_nickname = nick_the_pale_spider }
		}
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = yes
			}
			ROOT = { give_nickname = nick_the_grim_mistress }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_murder_bloodline_03
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24029 } }
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTCHF24027
		custom_tooltip = { text = TT_EVTOPTCHF24027 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = no
			}
			ROOT = { give_nickname = nick_the_ripper }
		}
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = yes
			}
			ROOT = { give_nickname = nick_the_black_widow }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_murder_bloodline_04
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24030 } }
		ai_chance = { 
			factor = 20
		}
	}
}

#Adult gains pure Murder Bloodline (Dragon Lunatic)
narrative_event = {
	id = HF.24231
	title = EVTTITLEHF24231
	desc = EVTDESCHF24231
	picture = GFX_evt_feast_hf
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder bloodline.
		name = EVTOPTAHF24231
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_murder_bloodline_05
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_murder_bloodline_05
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}
#Adult gains pure Murder Bloodline (Macabre Feast)
narrative_event = {
	id = HF.24028
	title = EVTTITLEHF24028
	desc = EVTDESCHF24028
	picture = GFX_evt_feast_hf
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder bloodline.
		name = EVTOPTAHF24028
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_murder_bloodline_02
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_murder_bloodline_02
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult gains pure Murder Bloodline (Silent Killer)
narrative_event = {
	id = HF.24029
	title = EVTTITLEHF24029
	desc = EVTDESCHF24029
	picture = GFX_evt_meeting_hf
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder bloodline.
		name = EVTOPTAHF24029
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_murder_bloodline_03
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_murder_bloodline_03
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult gains pure Murder Bloodline (Ripper)
narrative_event = {
	id = HF.24030
	title = EVTTITLEHF24030
	desc = EVTDESCHF24030
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder bloodline.
		name = EVTOPTAHF24030
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_murder_bloodline_04
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_murder_bloodline_04
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Pure War Bloodline crossroad.
character_event = {
	id = HF.24031
	hide_window = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	is_triggered_only = yes

	immediate = { 
		if = { #First check if qualifies for Deaht little helper flavor.
			limit = { 
				OR = { 
					NOT = { age = 16 }
					AND = { 
						has_character_flag = flag_forge_bloodline_was_child 
						NOT = { age = 35 } #Should still be somewhat young.
					}
				}
			}
			narrative_event = { id = HF.24032 }
		}
		else = { 
			character_event = { id = HF.24033 } #Otherwise let player decide the flavor.
		}
	}
}

#Child gains Pure War Bloodline.
narrative_event = {
	id = HF.24032
	title = EVTTITLEHF24032
	desc = EVTDESCHF24032
	picture = { 
		picture = GFX_evt_child_sword
	}
	border = GFX_event_narrative_frame_war
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain War bloodline.
		name = EVTOPTAHF24032
		if = { 
			limit = { NOT = { trait = brave } } 
			add_trait = brave
		}
		hidden_tooltip = { 
			if = { 
				limit = { this_has_super_cool_nickname_trigger = no }
				random_list = { 
					10 = { 
						give_nickname = nick_the_young_eagle 
					} 
					10 = { 
						give_nickname = nick_the_green_warrior 
					} 
					10 = { 
						give_nickname = nick_the_warrior_child 
					} 
					10 = { 
						give_nickname = nick_the_young_conqueror 
					}
				}
			}
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_war_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_war_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult crossroad for pure War Bloodline.
character_event = {
	id = HF.24033
	desc = EVTDESCAHF24033
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}

	is_triggered_only = yes
	
	# Knightly speech.
	# Craving for more land and blood.
	# Discussing about tactics.

	option = {
		name = EVTOPTAHF24033
		trigger = { 
			is_evil_trigger = no 
			OR = {
				is_female = no
				has_religion_feature = religion_matriarchal 	#AltStart
				has_religion_feature = religion_equal
			}
		}
		custom_tooltip = { text = TT_EVTOPTAHF24033 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = no
			}
			ROOT = { give_nickname = nick_the_white_knight }
		}
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = yes
			}
			ROOT = { give_nickname = nick_the_virago }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_war_bloodline_02
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24034 } }
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTBHF24033
		custom_tooltip = { text = TT_EVTOPTBHF24033 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = no
			}
			ROOT = { give_nickname = nick_the_bloodhound }
		}
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
				is_female = yes
			}
			ROOT = { give_nickname = nick_the_fury }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_war_bloodline_03
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24035 } }
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTCHF24033
		trigger = { 
			NOT = { is_dumb_trigger = yes } 
			learning = 8
		}
		tooltip_info = learning
		custom_tooltip = { text = TT_EVTOPTCHF24033 }
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_warrior_philosopher }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_war_bloodline_04
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24036 } }
		ai_chance = { 
			factor = 20
		}
	}
}

#Adult gains pure War Bloodline (Perfect Knight)
narrative_event = {
	id = HF.24034
	title = EVTTITLEHF24034
	desc = EVTDESCHF24034
	picture = GFX_evt_joust
	border = GFX_event_narrative_frame_war
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain War bloodline.
		name = EVTOPTAHF24034
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_war_bloodline_02
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_war_bloodline_02
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult gains pure War Bloodline (Warlord)
narrative_event = {
	id = HF.24035
	title = EVTTITLEHF24035
	desc = EVTDESCHF24035
	picture = GFX_evt_mounted_knights_hf
	border = GFX_event_narrative_frame_war
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain War bloodline.
		name = EVTOPTAHF24035
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_war_bloodline_03
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_war_bloodline_03
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult gains pure War Bloodline (Warrior Philosopher)
narrative_event = {
	id = HF.24036
	title = EVTTITLEHF24036
	desc = EVTDESCHF24036
	picture = { 
		trigger = { 
			has_dlc = "Way of Life"
		} 
		picture = GFX_evt_war_planning
	}
	picture = { 
		trigger = { 
			NOT = { has_dlc = "Way of Life" }
		} 
		picture = GFX_evt_council
	}
	border = GFX_event_narrative_frame_war
	sound = bloodline_added
	hide_from = yes
	show_from_from = no
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain War bloodline.
		name = EVTOPTAHF24036
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_war_bloodline_04
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_war_bloodline_04
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Pure Peace Bloodline crossroad.
character_event = {
	id = HF.24037
	hide_window = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	is_triggered_only = yes

	immediate = { 
		if = { #First check if qualifies for blessed child flavor.
			limit = { 
				OR = { 
					NOT = { age = 16 }
					AND = { 
						has_character_flag = flag_forge_bloodline_was_child 
						NOT = { age = 35 } #Should still be somewhat young.
					}
				}
			}
			narrative_event = { id = HF.24038 }
		}
		else = { 
			character_event = { id = HF.24039 } #Otherwise let player decide the flavor.
		}
	}
}

#Child gains Pure Peace Bloodline.
narrative_event = {
	id = HF.24038
	title = EVTTITLEHF24038
	desc = EVTDESCHF24038
	picture = GFX_evt_child_talking
	border = GFX_event_narrative_frame_diplomacy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Peace bloodline.
		name = EVTOPTAHF24038
		if = { 
			limit = { NOT = { trait = kind } } 
			add_trait = kind
		}
		hidden_tooltip = { 
			if = { 
				limit = { this_has_super_cool_nickname_trigger = no }
				random_list = { 
					10 = { 
						give_nickname = nick_the_pure 
					} 
					10 = { 
						give_nickname = nick_the_celestial 
					} 
					10 = { 
						give_nickname = nick_the_radiant 
					} 
					10 = { 
						give_nickname = nick_the_innocent 
					}
				}
			}
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_peace_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_peace_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult crossroad for pure Peace Bloodline.
character_event = {
	id = HF.24039
	desc = EVTDESCAHF24039
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	# Protect realm.
	# Issue great celebrations everywhere.

	option = {
		name = EVTOPTAHF24039
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_peace_maker }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_peace_bloodline_02
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24040 } }
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTBHF24039
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_munificent }
		}
		tooltip = { #Show bloodline effects
			create_bloodline = {
				type = pure_peace_bloodline_03
			}		
		}
		hidden_tooltip = { narrative_event = { id = HF.24041 } }
		ai_chance = { 
			factor = 20
		}
	}
}

#Adult gains pure Peace Bloodline (Protector)
narrative_event = {
	id = HF.24040
	title = EVTTITLEHF24040
	desc = EVTDESCHF24040
	picture = GFX_evt_market_hf
	border = GFX_event_narrative_frame_diplomacy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Peace bloodline.
		name = EVTOPTAHF24040
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_peace_bloodline_02
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_peace_bloodline_02
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Adult gains pure Peace Bloodline (Munificent)
narrative_event = {
	id = HF.24041
	title = EVTTITLEHF24041
	desc = EVTDESCHF24041
	picture = GFX_evt_jugglers
	border = GFX_event_narrative_frame_diplomacy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Peace bloodline.
		name = EVTOPTAHF24041
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_peace_bloodline_03
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_peace_bloodline_03
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Pure Architect Bloodline.
narrative_event = {
	id = HF.24042
	title = EVTTITLEHF24042
	desc = EVTDESCHF24042
	picture = GFX_evt_busy_trading_dock_republic
	border = GFX_event_narrative_frame_economy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Architect bloodline.
		name = EVTOPTAHF24042
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_architect }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_architect_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_architect_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Pure Castellan Bloodline.
narrative_event = {
	id = HF.24043
	title = EVTTITLEHF24043
	desc = EVTDESCHF24043
	picture = GFX_evt_magnificent_castle
	border = GFX_event_narrative_frame_economy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Castellan bloodline.
		name = EVTOPTAHF24043
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_castellan }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_castellan_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_castellan_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Pure Monumental Bloodline.
narrative_event = {
	id = HF.24044
	title = EVTTITLEHF24044
	desc = EVTDESCHF24044
	picture = GFX_evt_cathedral
	border = GFX_event_narrative_frame_economy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Monumental bloodline.
		name = EVTOPTAHF24044
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = pure_monumental_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = pure_monumental_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Murder War Hybrid Bloodline.
narrative_event = {
	id = HF.24045
	title = EVTTITLEHF24045
	desc = EVTDESCHF24045
	picture = GFX_evt_cornered_duel_hf
	border = GFX_event_narrative_frame_war
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder War Hybrid bloodline.
		name = EVTOPTAHF24045
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_griffin }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_murder_war_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_murder_war_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Murder Peace Hybrid Bloodline.
narrative_event = {
	id = HF.24046
	title = EVTTITLEHF24046
	desc = EVTDESCHF24046
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder Peace Hybrid bloodline.
		name = EVTOPTAHF24046
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_compassionate }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_murder_peace_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_murder_peace_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Builder Combo Hybrid Bloodline.
narrative_event = {
	id = HF.24047
	title = EVTTITLEHF24047
	desc = EVTDESCHF24047
	picture = GFX_evt_busy_trading_dock_republic
	border = GFX_event_narrative_frame_economy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Builder Combo Hybrid bloodline.
		name = EVTOPTAHF24047
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_founder }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_builder_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_builder_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Murder Builder Hybrid Bloodline.
narrative_event = {
	id = HF.24048
	title = EVTTITLEHF24048
	desc = EVTDESCHF24048
	picture = GFX_evt_mountaintop_castle_hf
	border = GFX_event_narrative_frame_intrigue
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Murder Builder Hybrid bloodline.
		name = EVTOPTAHF24048
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_bloodlime }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_murder_builder_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_murder_builder_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Peace Architect Hybrid Bloodline.
narrative_event = {
	id = HF.24049
	title = EVTTITLEHF24049
	desc = EVTDESCHF24042
	picture = GFX_evt_busy_trading_dock_republic
	border = GFX_event_narrative_frame_diplomacy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Peace Architect Hybrid bloodline.
		name = EVTOPTAHF24049
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_patron_of_arts }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_peace_architect_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_peace_architect_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Peace Castellan Hybrid Bloodline.
narrative_event = {
	id = HF.24050
	title = EVTTITLEHF24050
	desc = EVTDESCHF24043
	picture = GFX_evt_magnificent_castle
	border = GFX_event_narrative_frame_diplomacy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Peace Castellan Hybrid bloodline.
		name = EVTOPTAHF24050
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_bastion_of_capital }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_peace_castellan_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_peace_castellan_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

#Ruler gains Peace Monumental Hybrid Bloodline.
narrative_event = {
	id = HF.24051
	title = EVTTITLEHF24051
	desc = EVTDESCHF24044
	picture = GFX_evt_cathedral
	border = GFX_event_narrative_frame_diplomacy
	sound = bloodline_added
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		NOT = {
			any_owned_bloodline = { 
				has_bloodline_flag = created_bloodline
			}
		}
		has_ambition = obj_forge_bloodline
	}
	
	option = { #Gain Peace Monumental Hybrid bloodline.
		name = EVTOPTAHF24051
		if = { 
			limit = { 
				this_has_super_cool_nickname_trigger = no 
			}
			ROOT = { give_nickname = nick_the_holy_mason }
		}
		if = { 
			limit = { is_female = no }
			create_bloodline = {
				type = hybrid_peace_monumental_bloodline_01
			}		
		}
		if = { 
			limit = { is_female = yes }
			create_bloodline = {
				type = hybrid_peace_monumental_bloodline_01
				inheritance = matrilineal
			}		
		}
		ai_chance = { 
			factor = 100
		}
	}
}

########################################################
# Custom Bloodlines Special effects

#Murder Child
#On_childhood pulse: Ward is bored. 
character_event = {
	id = HF.24100
	desc = EVTDESCAHF24100
	picture = GFX_evt_child_reading
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	min_age = 12
	max_age = 16

	prisoner = no
	capable_only = yes

	trigger = { 
		any_owned_bloodline = {
			has_bloodline_flag = bloodline_murder_child
		}
		intrigue = 3
		OR = { 
			AND = { 
				educator = {
					is_alive = yes
					prisoner = no
				}
				educator = {
					NOR = {
						is_close_relative = ROOT
						trait = incapable
						is_inaccessible_trigger = yes
						reverse_opinion = { who = ROOT value = 50 }
					}
				}
			}
			AND = { 
				guardian = {
					is_alive = yes
					prisoner = no
				}
				guardian = {
					NOR = {
						is_close_relative = ROOT
						trait = incapable
						is_inaccessible_trigger = yes
						reverse_opinion = { who = ROOT value = 50 }
					}
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				guardian = {
					is_alive = yes
					prisoner = no
				}
				guardian = {
					NOR = {
						is_close_relative = ROOT
						trait = incapable
						is_inaccessible_trigger = yes
						reverse_opinion = { who = ROOT value = 50 }
					}
				}
			}
			guardian = { save_event_target_as = scoped_guardian }
		}
		else_if = {
			limit = {
				educator = {
					is_alive = yes
					prisoner = no
				}
				educator = {
					NOR = {
						is_close_relative = ROOT
						trait = incapable
						is_inaccessible_trigger = yes
						reverse_opinion = { who = ROOT value = 50 }
					}
				}
			}
			educator = { save_event_target_as = scoped_guardian }
		}
	}
	
	option = {
		name = EVTOPTAHF24100
		custom_tooltip = { text = TT_EVTOPTAHF24100 }
		random = { 
			chance = 50 
			change_intrigue = 1
		}
		hidden_tooltip = {
			event_target:scoped_guardian = {
				character_event = { id = HF.24101 }
			}
		}
	}
	option = {
		name = EVTOPTBHF24100
		custom_tooltip = { text = TT_EVTOPTBHF24100 }
	}
}

#Educator receives event.
character_event = {
	id = HF.24101
	desc = EVTDESCAHF24101
	picture = GFX_evt_child_reading
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTBHF24101
		trigger = { intrigue = 16 }
		tooltip_info = intrigue
		hidden_tooltip = {
			FROM = {
				character_event = { id = HF.24102 }
			}
		}
	}
	option = {
		name = EVTOPTCHF24101
		hidden_tooltip = { FROM = { character_event = { id = HF.24103 } } }
		hidden_tooltip = { 
			if = { 
				limit = { 
					FROM = { NOT = { is_liege_of = ROOT } }
				}
				liege = { character_event = { id = HF.24104 } }
			}
		}
		death = { death_reason = death_murder_unknown killer = FROM }
	}
}

#Child was busted.
character_event = {
	id = HF.24102
	desc = EVTDESCAHF24102
	picture = GFX_evt_child_reading
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24102
		tiered_prestige_negative_effect = yes
	}
}

#Child notified of success.
character_event = {
	id = HF.24103
	desc = EVTDESCAHF24103
	picture = GFX_evt_child_reading
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24103
		tiered_prestige_reward_effect = yes
	}
}

#Liege notified of child's success.
character_event = {
	id = HF.24104
	desc = EVTDESCAHF24104
	picture = GFX_evt_child_reading
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24104
		trigger = { dynasty = FROMFROM }
	}
	option = {
		name = EVTOPTBHF24104
		trigger = { NOT = { dynasty = FROMFROM } }
	}
}
###################

#Executing people by adding them to the Macabre Banquet.
character_event = {
	id = HF.24105
	desc = EVTDESCHF24105
	picture = GFX_evt_feast_hf
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24105
	}
}

# Killed by macabre banquet (generic executions)
character_event = {
	id = HF.24106
	desc = EVTDESCHF24106
	picture = GFX_evt_feast_hf
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24106
		death = {
			death_reason = death_execution_macabre_banquet
			killer = FROMFROM
		}
	}
}

###################

#Murder deflection
character_event = {
	id = HF.24107
	desc = EVTDESCHF24107
	picture = GFX_evt_meeting_hf
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24107
		trigger = {
			OR = {
				trait = kinslayer
				trait = familial_kinslayer
				trait = dynastic_kinslayer
				trait = tribal_kinslayer
			}
		}
		if = {
			limit = {
				intrigue = 15
			}
			if = {
				limit = {
					trait = kinslayer
				}
				prestige = -500
				remove_trait = kinslayer
			}
			if = {
				limit = {
					trait = familial_kinslayer
				}
				prestige = -250
				remove_trait = familial_kinslayer
			}
			if = {
				limit = {
					trait = dynastic_kinslayer
				}
				prestige = -150
				remove_trait = dynastic_kinslayer
			}
			if = {
				limit = {
					trait = tribal_kinslayer
				}
				prestige = -150
				remove_trait = tribal_kinslayer
			}
		}
		else = {
			if = {
				limit = {
					trait = kinslayer
				}
				prestige = -1000
				remove_trait = kinslayer
			}
			if = {
				limit = {
					trait = familial_kinslayer
				}
				prestige = -500
				remove_trait = familial_kinslayer
			}
			if = {
				limit = {
					trait = dynastic_kinslayer
				}
				prestige = -300
				remove_trait = dynastic_kinslayer
			}
			if = {
				limit = {
					trait = tribal_kinslayer
				}
				prestige = -300
				remove_trait = tribal_kinslayer
			}
		}
	}
	option = {
		name = EVTOPTBHF24107
		trigger = {
			has_character_modifier = known_murderer
		}
		if = {
			limit = {
				intrigue = 15
			}
			prestige = -500
			remove_character_modifier = known_murderer
		}
		else = {
			prestige = -750
			remove_character_modifier = known_murderer
		}
	}
	option = {
		name = EVTOPTCHF24107
		trigger = {
			OR = {
				has_character_modifier = vicious_rumors
				has_character_modifier = vicious_rumors_2
			}
		}
		if = {
			limit = {
				intrigue = 15
			}
			if = {
				limit = {
					has_character_modifier = vicious_rumors_2
				}
				prestige = -250
				remove_character_modifier = vicious_rumors_2
			}
			if = {
				limit = {
					has_character_modifier = vicious_rumors
				}
				prestige = -150
				remove_character_modifier = vicious_rumors
			}
		}
		else = {
			if = {
				limit = {
					has_character_modifier = vicious_rumors_2
				}
				prestige = -500
				remove_character_modifier = vicious_rumors_2
			}
			if = {
				limit = {
					has_character_modifier = vicious_rumors
				}
				prestige = -300
				remove_character_modifier = vicious_rumors
			}
		}
	}
	option = {
		name = EVTOPTDHF24107
		hidden_tooltip = {
			remove_character_modifier = deflection_decision_cooldown
		}
		break = yes
	}
	after = { #After-effects
		hidden_tooltip = {
			random_list = {
				#Stress
				#Paranoia
				#Deceit
				#Cruelty
				#Lunacy
				250 = {}
				10 = {
					character_event = { id = HF.24108 days = 25 random = 25 }
				}
				10 = {
					character_event = { id = HF.24109 days = 25 random = 25 }
				}
				10 = {
					character_event = { id = HF.24110 days = 25 random = 25 }
				}
				10 = {
					character_event = { id = HF.24111 days = 25 random = 25 }
				}
				1 = {
					character_event = { id = HF.24112 days = 25 random = 25 }
				}
			}
		}
	}
}

#Ruler beomes stressed.
character_event = {
	id = HF.24108
	desc = EVTDESCHF24108
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24108
		health = -0.5
	}
}
#Ruler beomes paranoid.
character_event = {
	id = HF.24109
	desc = EVTDESCHF24109
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24109
		health = -0.5
	}
}
#Ruler beomes deceitful.
character_event = {
	id = HF.24110
	desc = EVTDESCHF24110
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24110
		change_intrigue = 1
	}
}
#Ruler beomes cruel.
character_event = {
	id = HF.24111
	desc = EVTDESCHF24111
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24111
		change_intrigue = 1
	}
}
#Ruler beomes lunatic.
character_event = {
	id = HF.24112
	desc = EVTDESCHF24112
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF24112
		health = -0.5
	}
}


#Plotter sees an opportunity - assassinate
character_event = {
	id = HF.24113
	desc = EVTDESCHF24113
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue
	
	is_part_of_plot = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		any_owned_bloodline = {
			has_bloodline_flag = bloodline_murder_stalk 
		}
		OR = {
			has_plot = plot_kill_character
			has_plot = plot_kill_spouse
		}
		plot_target_char = {
			OR = {
				at_location = ROOT
				ROOT = { is_inaccessible_trigger = no }
			}
			age = 16
			NOR = {
				is_inaccessible_trigger = yes
				prisoner = yes
			}
		}
		NOT = { has_character_flag = murder_in_motion }
	}
	
	mean_time_to_happen = {
		months = 3000

		modifier = {
			factor = 0.9
			plot_power = 0.1
		}
		modifier = {
			factor = 0.9
			plot_power = 0.2
		}
		modifier = {
			factor = 0.9
			plot_power = 0.3
		}
		modifier = {
			factor = 0.8
			plot_power = 0.4
		}
		modifier = {
			factor = 0.8
			plot_power = 0.5
		}
		modifier = {
			factor = 0.8
			plot_power = 0.6
		}
		modifier = {
			factor = 0.8
			plot_power = 0.7
		}
		modifier = {
			factor = 0.8
			plot_power = 0.8
		}
		modifier = {
			factor = 0.7
			plot_power = 0.9
		}
		modifier = {
			factor = 0.7
			plot_power = 1.0
		}
		modifier = {
			factor = 0.6
			plot_power = 1.5
		}
		modifier = {
			factor = 0.5
			plot_power = 2.0
		}
		modifier = {
			factor = 0.9
			intrigue = 10
		}
		modifier = {
			factor = 0.9
			intrigue = 12
		}
		modifier = {
			factor = 0.9
			intrigue = 14
		}
		modifier = {
			factor = 0.8
			intrigue = 16
		}
		modifier = {
			factor = 0.7
			intrigue = 18
		}
		modifier = {
			factor = 0.6
			intrigue = 20
		}
	}
	
	immediate = {
		plot_target_char = { save_event_target_as = plot_target }
		save_event_target_as = assassin_plot_owner
	}
	
	#Do it
	option = {
		name = EVTOPTAHF24113
		custom_tooltip = { text = EVTOPTA_HF24113_TOOLTIP }
		hidden_effect = { 
			event_target:plot_target = { character_event = { id = HF.24114 days = 7 } } 
			set_character_flag = murder_in_motion
		}
	}

	#Wait
	option = {
		name = EVTOPTBHF24113
		custom_tooltip = { text = EVTOPTB_HF24113_TOOLTIP }
	}
}

#Assassination attempt
character_event = {
	id = HF.24114
	desc = EVTDESCHF24114
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	hide_from = yes


	option = {
		name = EVTOPTAHF24114

		event_target:assassin_plot_owner = { clr_character_flag = murder_in_motion }

		hidden_effect = {
			random_list = {
				60  = { #Die
					random_list = {
						75 = {	#Not discovered
							modifier = {
								event_target:assassin_plot_owner = { intrigue = 12 }
								factor = 1.5
							}
							modifier = {
								event_target:assassin_plot_owner = { intrigue = 15 }
								factor = 1.5
							}
							character_event = { id = HF.24115 days = 3 }
						}
						25 = {	#Discovered
							modifier = {
								event_target:assassin_plot_owner = { NOT = { intrigue = 8 } }
								factor = 1.5
							}
							modifier = {
								event_target:assassin_plot_owner = { NOT = { intrigue = 5 } }
								factor = 1.5
							}
							character_event = { id = HF.24118 days = 3 }
							event_target:assassin_plot_owner = { character_event = { id = 10 } }
						}
					}
					modifier = {
						factor = 1.3
						FROM = { attribute_diff = { character = ROOT attribute = intrigue value = 2 } }
					}
					modifier = {
						factor = 1.3
						FROM = { attribute_diff = { character = ROOT attribute = intrigue value = 4 } }
					}
					modifier = {
						factor = 1.3
						FROM = { attribute_diff = { character = ROOT attribute = intrigue value = 6 } }
					}
					modifier = {
						factor = 1.3
						FROM = { combat_rating_diff = { character = ROOT value = 10 } }
					}
					modifier = {
						factor = 1.3
						FROM = { combat_rating_diff = { character = ROOT value = 20 } }
					}
					modifier = {
						factor = 1.3
						FROM = { combat_rating_diff = { character = ROOT value = 30 } }
					}
				}
				40 = { #Survive
					random_list = {
						50 = {	#Not discovered
							modifier = {
								event_target:assassin_plot_owner = { intrigue = 12 }
								factor = 1.5
							}
							modifier = {
								event_target:assassin_plot_owner = { intrigue = 15 }
								factor = 1.5
							}
							character_event = { id = HF.24121 days = 3 }
						}
						25 = {	#Discovered and wounded
							modifier = {
								event_target:assassin_plot_owner = { NOT = { intrigue = 8 } }
								factor = 1.5
							}
							modifier = {
								event_target:assassin_plot_owner = { NOT = { intrigue = 5 } }
								factor = 1.5
							}
							character_event = { id = HF.24124 days = 3 }
							event_target:assassin_plot_owner = { character_event = { id = 11 } }
						}
						25 = { #Killed assailant
							modifier = {
								factor = 1.3
								combat_rating_diff = { character = event_target:assassin_plot_owner value = 10 }
							}
							modifier = {
								factor = 1.3
								combat_rating_diff = { character = event_target:assassin_plot_owner value = 20 }
							}
							modifier = {
								factor = 1.3
								combat_rating_diff = { character = event_target:assassin_plot_owner value = 30 }
							}
							character_event = { id = HF.24127 days = 3 }
							event_target:assassin_plot_owner = { character_event = { id = 11 } }
						}
					}	
					modifier = {
						factor = 1.3
						attribute_diff = { character = event_target:assassin_plot_owner attribute = intrigue value = 2 }
					}
					modifier = {
						factor = 1.3
						attribute_diff = { character = event_target:assassin_plot_owner attribute = intrigue value = 4 }
					}
					modifier = {
						factor = 1.3
						attribute_diff = { character = event_target:assassin_plot_owner attribute = intrigue value = 6 }
					}
					modifier = {
						factor = 1.3
						combat_rating_diff = { character = event_target:assassin_plot_owner value = 10 }
					}
					modifier = {
						factor = 1.3
						combat_rating_diff = { character = event_target:assassin_plot_owner value = 20 }
					}
					modifier = {
						factor = 1.3
						combat_rating_diff = { character = event_target:assassin_plot_owner value = 30 }
					}
				}
			}
		}
	}
}

#Plot target dies, undiscovered
character_event = {
	id = HF.24115
	desc = EVTDESCHF24115
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTAHF24115
		tooltip = { death = { death_reason = death_murder_unknown killer = event_target:assassin_plot_owner } }
		hidden_effect = {
			event_target:assassin_plot_owner = { character_event = { id = HF.24116 } }
		}
	}
}

#Assassin notified of "Plot target dies, undiscovered"
character_event = {
	id = HF.24116
	desc = EVTDESCHF24116
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24116
		FROM = { death = { death_reason = death_murder_unknown killer = event_target:assassin_plot_owner } } 
		#If quest holder, clear quest and reward
		
		clr_character_flag = murder_in_motion
	}
}


#Plot target dies, discovered
character_event = {
	id = HF.24118
	desc = EVTDESCHF24118
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTAHF24118

		tooltip = { death = { death_reason = death_murder killer = event_target:assassin_plot_owner } }

		hidden_effect = {
			event_target:assassin_plot_owner = { character_event = { id = HF.24119 } }
		}
	}
}

#Assassin notified of "Plot target dies, discovered"
character_event = {
	id = HF.24119
	desc = EVTDESCHF24119
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24119
		FROM = { death = { death_reason = death_murder killer = event_target:assassin_plot_owner } }
		#If quest holder, clear quest and reward
		
		clr_character_flag = murder_in_motion
	}
}

#Plot target survives, undiscovered
character_event = {
	id = HF.24121
	desc = EVTDESCHF24121
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTAHF24121

		hidden_effect = {
			event_target:assassin_plot_owner = { character_event = { id = HF.24122 } }
		}
	}
}

#Assassin notified of "Plot target survives, undiscovered"
character_event = {
	id = HF.24122
	desc = EVTDESCHF24122
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24122
	}
}

#Plot target survives, wounded
character_event = {
	id = HF.24124
	desc = EVTDESCHF24124
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24124

		random_list = {
			30 = {
				event_target:assassin_plot_owner = {
					tooltip = { add_maimed_trait_effect = yes }
					set_character_flag = assassin_maimed
				}
			}
		}

		hidden_effect = {
			event_target:assassin_plot_owner = { character_event = { id = HF.24125 } }
		}
	}
}

#Assassin notified of "Plot target survives, wounded"
character_event = {
	id = HF.24125
	desc = EVTDESCHF24125
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24124
		if = {
			limit = { has_character_flag = assassin_wounded }
			add_trait_wounded_effect = yes
			clr_character_flag = assassin_wounded
		}
		if = {
			limit = { has_character_flag = assassin_maimed }
			add_maimed_trait_effect = yes
			clr_character_flag = assassin_maimed
		}
		clr_character_flag = murder_in_motion
	}
}

#Plot target survives, killed
character_event = {
	id = HF.24127
	desc = EVTDESCHF24127
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue


	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24127
		tooltip = { event_target:assassin_plot_owner = { death = { death_reason = death_battle killer = event_target:plot_target } } }

		hidden_effect = {
			event_target:assassin_plot_owner = { character_event = { id = HF.24128 } }
		}
	}
}

#Assassin notified of "Plot target survives, killed"
character_event = {
	id = HF.24128
	desc = EVTDESCHF24128
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = no
			} 
		} 
		picture = GFX_evt_cornered_duel_hf
	}
	picture = { 
		trigger = { 
			ROOT = { 
				is_female = yes
			} 
		} 
		picture = GFX_evt_slit_throat_hf
	}
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF24128
		death = { death_reason = death_battle killer = event_target:plot_target } 
	}
}

# Knight Bloodline
# Bards/Knights arriving at court.
character_event = { 
	id = HF.24129
	hide_window = yes
	
	is_triggered_only = yes
	
	only_playable = yes
	only_capable = yes
	prisoner = no
	min_age = 16

	trigger = {
		piety = 50
		any_owned_bloodline = {
			has_bloodline_flag = bloodline_knights
		}
	}
	
	immediate = {
		random_list = {
			60 = { #Knight
				character_event = { id = HF.24130 }
			}
			60 = { #Bard
				character_event = { id = HF.24131 }
			}
			80 = {
				modifier = {
					factor = 3
					ai = yes
				}
				modifier = {
					factor = 1.35
					NOT = {
						higher_tier_than = COUNT
					}
				}
				modifier = {
					factor = 1.35
					NOT = {
						higher_tier_than = DUKE
					}
				}
				modifier = {
					factor = 1.75
					is_evil_trigger = yes
				}
				modifier = {
					factor = 0.65
					is_benevolent_trigger = yes
				}
				modifier = {
					factor = 1.35
					any_courtier_or_vassal = {
						count = 2
						has_bloodline_flag = bloodline_knights
					}
				}
				modifier = {
					factor = 1.35
					any_courtier_or_vassal = {
						count = 3
						has_bloodline_flag = bloodline_knights
					}
				}
			}
		}
	}
}

character_event = { # Knight character arrives
	id = HF.24130
	desc = EVTDESCHF24130
	picture = GFX_evt_western_knights_byzantine
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	only_playable = yes
	only_capable = yes
	prisoner = no
	min_age = 16
	
	immediate = {
		spawn_fantastic_commander_effect = yes
		event_target:invited_character = {
			set_character_flag = bloodline_great_hero
			set_character_flag = hero_knight
		}
	}
	
	option = {
		name = EVTOPTAHF24130
		
		trigger = {
			OR = { 
				NOT = { ROOT = { has_law = succ_byzantine_elective } }  #Either not Imperial...
				NOT = { #...Or there are no valid vassal candidates that can be commanders.
					any_vassal = { 
						higher_real_tier_than = BARON
						NOT = { 
							primary_title = { temporary = yes } 
						}
						OR = {
							AND = {
								OR = {
									male_can_hold_minor_title_trigger = yes
									female_can_hold_minor_commander_title_trigger = yes
								}
								is_adult = yes
							}
							has_character_flag = special_marshal
						}
				
						prisoner = no
						NOT = { trait = incapable }
						NOT = { is_inaccessible_trigger = yes }
						NOT = { has_character_modifier = refusing_to_lead }
						NOR = {
							has_job_title = job_chancellor
							has_job_title = job_marshal
							has_job_title = job_treasurer
							has_job_title = job_spymaster
							has_job_title = job_spiritual
							has_minor_title = title_commander
						}
					} 
				}
			}
			any_realm_character = {
				NOT = {
					higher_tier_than = BARON
				}
				liege = { character = ROOT }
				has_minor_title = title_commander
				NOT = {
					martial = 12
				}
			}
			OR = {
				AND = {
					tier = COUNT
					any_realm_character = {
						count = 2
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = DUKE
					any_realm_character = {
						count = 4
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = KING
					is_nomadic = no
					any_realm_character = {
						count = 6
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = no
					any_realm_character = {
						count = 8
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = KING
					is_nomadic = yes
					any_realm_character = {
						count = 2
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = yes
					any_realm_character = {
						count = 4
						liege = { character = ROOT }
						has_minor_title = title_commander
					}
				}
			}
		}
		
		random_realm_character = {
			limit = {
				NOT = {
					higher_tier_than = BARON
				}
				liege = { character = ROOT }
				has_minor_title = title_commander
				NOT = {
					martial = 12
				}
			}
			remove_title = title_commander
			opinion = {
				modifier = insulted
				who = ROOT
				years = 2
			}
		}
		
		event_target:invited_character = {
			give_minor_title = title_commander
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}

	option = {
		name = EVTOPTAHF24130
		
		trigger = {
			OR = { 
				NOT = { ROOT = { has_law = succ_byzantine_elective } }  #Either not Imperial...
				NOT = { #...Or there are no valid vassal candidates that can be commanders.
					any_vassal = { 
						higher_real_tier_than = BARON
						NOT = { 
							primary_title = { temporary = yes } 
						}
						OR = {
							AND = {
								OR = {
									male_can_hold_minor_title_trigger = yes
									female_can_hold_minor_commander_title_trigger = yes
								}
								is_adult = yes
							}
							has_character_flag = special_marshal
						}
				
						prisoner = no
						NOT = { trait = incapable }
						NOT = { is_inaccessible_trigger = yes }
						NOT = { has_character_modifier = refusing_to_lead }
						NOR = {
							has_job_title = job_chancellor
							has_job_title = job_marshal
							has_job_title = job_treasurer
							has_job_title = job_spymaster
							has_job_title = job_spiritual
							has_minor_title = title_commander
						}
					} 
				}
			}
			event_target:invited_character = { has_character_flag = invited_soldier }
			OR = {
				AND = {
					tier = COUNT
					NOT = {
						any_realm_character = {
							count = 2
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = DUKE
					NOT = {
						any_realm_character = {
							count = 4
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = KING
					is_nomadic = no
					NOT = {
						any_realm_character = {
							count = 6
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = no
					NOT = {
						any_realm_character = {
							count = 8
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = KING
					is_nomadic = yes
					NOT = {
						any_realm_character = {
							count = 2
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
				AND = {
					tier = EMPEROR
					is_nomadic = yes
					NOT = {
						any_realm_character = {
							count = 4
							liege = { character = ROOT }
							has_minor_title = title_commander
						}
					}
				}
			}
		}
		
		event_target:invited_character = {
			give_minor_title = title_commander
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}
	
	option = {
		name = FANTASTIC
		event_target:invited_character = {
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}
	
	option = {
		name = EVTOPTCHF24130
		
		hidden_tooltip = {
			event_target:invited_character = { 
				death = {
					death_reason = death_missing
				}
			}
		}
	}
}

character_event = { # Bard character arrives
	id = HF.24131
	desc = EVTDESCHF24131
	picture = GFX_evt_jugglers
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes
	
	only_playable = yes
	only_capable = yes
	prisoner = no
	min_age = 16
	
	immediate = {
		spawn_fantastic_diplomat_effect = yes
	}
	
	option = {
		name = EVTOPTAHF24131
		event_target:invited_character = {
			opinion = {
				modifier = opinion_loyal_servant
				who = ROOT
				years = 100
			}
		}
	}
	option = {
		name = EVTOPTCHF24130
		
		hidden_tooltip = {
			event_target:invited_character = { 
				death = {
					death_reason = death_missing
				}
			}
		}
	}
}

#Landless ladies of same religion might ask for protection.
character_event = { 
	id = HF.24132
	hide_window = yes

	is_triggered_only = yes
	
	only_women = yes
	min_age = 16
	max_age = 30
	only_capable = yes
	prisoner = no
	
	trigger = {
		is_ruler = no
		is_female = yes
		NOT = { has_religion_feature = religion_matriarchal }
		is_married = no
		NOT = { num_of_children = 1 }
		NOT = { num_of_lovers = 1 }
		NOT = { num_of_friends = 1 }
		NOT = { has_character_flag = special_marshal }
		liege = {  
			OR = { 
				NOT = { religion = ROOT }
				NOT = { reverse_opinion = { who = ROOT value = -40 } }
				is_rival = ROOT
			}
			any_neighbor_independent_ruler = {  
				age = 16
				any_owned_bloodline = { 
					has_bloodline_flag = bloodline_knights
				}
				religion = ROOT
			}
		}

	}

	immediate = {
		random = {
			chance = 5 
			random_neighbor_independent_ruler = {  
				limit = {  
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_knights
					}
					religion = ROOT
				}
				character_event = { id = HF.24133 }
			}
		}
	}
}

character_event = { # Woman asks for assistance
	id = HF.24133
	desc = EVTDESCHF24133
	picture = GFX_evt_homage_hf
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes
	
	#Marry her.
	#Host her.
	#Refuse her.
	
	option = {
		name = EVTOPTAHF24133
		trigger = {
			is_benevolent_trigger = yes
			is_married = no
			is_female = no
			FROM = { is_married = no }
		}
		FROM = {
			show_scope_change = no
			liege = {
				show_scope_change = no
				opinion = {
					modifier = opinion_outraged
					who = ROOT
					years = 100
				}
			}
		}
		FROM = {
			show_scope_change = no
			opinion = {
				modifier = opinion_saved_me
				who = ROOT
				years = 100
			}
			move_character = ROOT
			if = {
				limit = {
					is_betrothed = yes
				}
				break_betrothal = yes
			}
			if = {
				limit = {
					is_married = yes #Multiplayer delay
				}
				remove_spouse = yes
			}
			add_spouse = ROOT
			add_lover = ROOT
		}
	}
	option = {
		name = EVTOPTBHF24133
		FROM = {
			show_scope_change = no
			liege = {
				show_scope_change = no
				opinion = {
					modifier = opinion_outraged
					who = ROOT
					years = 100
				}
			}
		}
		FROM = {
			show_scope_change = no
			opinion = {
				modifier = opinion_saved_me
				who = ROOT
				years = 100
			}
			move_character = ROOT
			if = {
				limit = {
					is_betrothed = yes
				}
				break_betrothal = yes
			}
			if = {
				limit = {
					is_married = yes #Multiplayer delay
				}
				remove_spouse = yes
			}
		}
	}
	option = {
		name = EVTOPTCHF24133
		tiered_piety_negative_effect = yes
		FROM = {
			opinion = {
				modifier = opinion_dishonorable_scum
				who = ROOT
				years = 100
			}
		}
	}
}

#Philosopher-Warrior Drills troops.
character_event = {
	id = HF.24134
	desc = EVTDESCAHF24134
	picture = { 
		trigger = { 
			has_dlc = "Way of Life"
		} 
		picture = GFX_evt_war_planning
	}
	picture = { 
		trigger = { 
			NOT = { has_dlc = "Way of Life" }
		} 
		picture = GFX_evt_council
	}
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF24134
		if = { 
			limit = { 
				martial = 15
			}
			prestige = -300 
		}
		if = { 
			limit = { 
				NOT = {
					martial = 15
				} 
			}
			prestige = -600
		}
		add_character_modifier = { name = infiltration_tactics years = 4 } 
		ai_chance = { 
			factor = 25 
		}
	}
	option = { 
		name = EVTOPTBHF24134
		if = { 
			limit = { 
				martial = 15
			}
			prestige = -300 
		}
		if = { 
			limit = { 
				NOT = {
					martial = 15
				} 
			}
			prestige = -600
		}
		add_character_modifier = { name = polished_formation years = 4 } 
		ai_chance = { 
			factor = 25 
		}
	}
	option = { 
		name = EVTOPTCHF24134
		if = { 
			limit = { 
				martial = 15
			}
			prestige = -200 
		}
		if = { 
			limit = { 
				NOT = {
					martial = 15
				} 
			}
			prestige = -400
		}
		add_character_modifier = { name = advanced_supply_lines years = 4 } 
		ai_chance = { 
			factor = 75
		}
	}
	option = { #Changed my mind.
		name = EVTOPTDHF24134
		hidden_tooltip = { remove_character_modifier = drill_troops_cooldown }
		break = yes #No post effects if player changed his mind and picked Option C.
		ai_chance = { 
			factor = 0
		}
	}
	after = { 
		hidden_tooltip = { 
			random_list = { 
				90 = { }
				10 = { 
					character_event = { id = HF.24135 days = 20 random = 20 } 
				}
			}
		}
	}
}

#Ruler cares more about training than appearance.
character_event = {
	id = HF.24135
	desc = { 
		trigger = { 
			is_female = yes
		} 
		text = EVTDESCAHF24135
	}
	desc = { 
		trigger = { 
			is_female = no
		} 
		text = EVTDESCBHF24135
	}
	picture = { 
		trigger = { 
			has_dlc = "Way of Life"
		} 
		picture = GFX_evt_war_planning
	}
	picture = { 
		trigger = { 
			NOT = { has_dlc = "Way of Life" }
		} 
		picture = GFX_evt_council
	}
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTBHF24135
		random_list = {
			50 = {
				change_martial = 1
			}
			50 = {
				change_diplomacy = -1
			}
		}
		ai_chance = {
			factor = 75
		}
	}
}

#Munificent Bloodline - Boosting opinion.
character_event = {
	id = HF.24138
	desc = EVTDESCAHF24138
	picture = { 
		trigger = { 
			has_religion_feature = religion_matriarchal
		} 
		picture = GFX_evt_matriarchy_throne_room
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_patriarchal
		} 
		picture = GFX_evt_tengri_throneroom_oldgods
	}
	picture = { 
		trigger = { 
			NOR = { 
				has_religion_feature = religion_matriarchal
				has_religion_feature = religion_patriarchal
			}
		} 
		picture = GFX_evt_fancy_feast
	}
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	option = { #Endear neighbors.
		name = EVTOPTAHF24138
		trigger = { 
			any_neighbor_independent_ruler = { 
				is_alive = yes
				is_adult = yes
			}
		}
		custom_tooltip = { text = TT_EVTOPTAHF24138 }
		if = { 
			limit = { 
				OR = {
					is_attractive_trigger = yes
					diplomacy = 15
				} 
			}
			prestige = -300 
		}
		if = { 
			limit = { 
				NOR = {
					is_attractive_trigger = yes
					diplomacy = 15
				} 
			}
			prestige = -600
		}
		hidden_tooltip = { 
			any_neighbor_independent_ruler = {
				limit = { 
					is_adult = yes 
				}
				character_event = { id = HF.24139 }
			}
			random_neighbor_independent_ruler = { #Random infatuation
				limit = { 
					ai = yes
					is_adult = yes 
					NOR = { trait = celibate trait = eunuch is_rival = ROOT }
					OR = {	
						AND = {
							ROOT = { is_female = no }
							prefers_men_trigger = yes
							NOT = { has_religion_feature = religion_matriarchal }
						}
						AND = {
							ROOT = { is_female = yes }
							prefers_men_trigger = no
							NOT = { has_religion_feature = religion_patriarchal }
						}
					}
				}
				preferred_limit = {
					trait = lustful
				}
				random = {
					chance = 20
					modifier = {
						factor = 1.5
						ROOT = { is_attractive_trigger = yes }
					}
					modifier = {
						factor = 0.5
						ROOT = { is_unattractive_trigger = yes }
					}
					modifier = {
						factor = 0.5
						ROOT = { age = 40 }
					}
					modifier = {
						factor = 1.5
						ROOT = { diplomacy = 8 }
					}
					modifier = {
						factor = 1.5
						ROOT = { diplomacy = 10 }
					}
					modifier = {
						factor = 1.5
						ROOT = { diplomacy = 12 }
					}
					modifier = {
						factor = 1.5
						ROOT = { diplomacy = 14 }
					}
					modifier = {
						factor = 1.5
						ROOT = { diplomacy = 16 }
					}
					opinion = { 
						who = ROOT
						modifier = opinion_infatuated
						years = 8
					}
				}
			}
		}
		ai_chance = { 
			factor = 25 
		}
	}
	option = { #Endear subjects.
		name = EVTOPTBHF24138
		add_character_modifier = { name = endearing_peasants duration = 1460 }
		if = { 
			limit = { 
				OR = {
					is_attractive_trigger = yes
					diplomacy = 15
				} 
			}
			prestige = -200 
		}
		if = { 
			limit = { 
				NOR = {
					is_attractive_trigger = yes
					diplomacy = 15
				} 
			}
			prestige = -400
		}
		ai_chance = { 
			factor = 25 
		}
	}
	option = { #Changed my mind.
		name = EVTOPTCHF24138
		hidden_tooltip = { remove_character_modifier = endearing_noblemen_cooldown }
		break = yes #No post effects if player changed his mind and picked Option C.
		ai_chance = { 
			factor = 0
		}
	}
	after = { 
		hidden_tooltip = { 
			random_list = { 
				90 = { }
				10 = { 
					character_event = { id = HF.24141 days = 20 random = 20 } 
				}
			}
		}
	}
}

#Vassals/Neighbors pacified.
character_event = {
	id = HF.24139
	desc = { 
		trigger = { 
			vassal_of = FROM
		} 
		text = EVTDESCAHF24139
	}
	desc = { 
		trigger = { 
			NOT = { vassal_of = FROM } 
		} 
		text = EVTDESCBHF24139
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_matriarchal
		} 
		picture = GFX_evt_matriarchy_throne_room
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_patriarchal
		} 
		picture = GFX_evt_tengri_throneroom_oldgods
	}
	picture = { 
		trigger = { 
			NOR = { 
				has_religion_feature = religion_matriarchal
				has_religion_feature = religion_patriarchal
			}
		} 
		picture = GFX_evt_fancy_feast
	}
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	#Gain opinion.
	#Envious copout.
	#Opposite Doctrine copout.

	option = { 
		name = EVTOPTCHF24139
		trigger = { 
			OR = { 
				AND = { 
					has_religion_feature = religion_patriarchal
					FROM = { is_female = yes }
				}
				AND = { 
					has_religion_feature = religion_matriarchal
					FROM = { is_female = no }
				}
			}
		}
		tooltip_info_custom = available_because_religious_doctrine
		tiered_piety_reward_effect = yes
		ai_chance = { 
			factor = 0 
		}
	}
	option = { 
		name = EVTOPTDHF24139
		trigger = { 
			OR = {  
				ai = no
				NOR = {
					has_opinion_modifier = { 
						who = FROM
						modifier = opinion_infatuated
					} 
					is_lover = FROM
				}
			} 
			OR = {
				AND = {
					FROM = { is_female = yes }
					prefers_men_trigger = yes
				}
				AND = {
					FROM = { is_female = no }
					prefers_men_trigger = no
				}
			}
		}
		opinion = { 
			who = FROM
			modifier = opinion_impressed
			years = 5
		}
		ai_chance = { 
			factor = 70 
		}
	}
	option = { 
		name = EVTOPTEHF24139
		trigger = { 
			OR = {  
				ai = no
				NOR = {
					has_opinion_modifier = { 
						who = FROM
						modifier = opinion_infatuated
					} 
					is_lover = FROM
				}
			} 
			OR = {
				AND = {
					FROM = { is_female = yes }
					prefers_men_trigger = no
				}
				AND = {
					FROM = { is_female = no }
					prefers_men_trigger = yes
				}
			}
		}
		opinion = { 
			who = FROM
			modifier = opinion_impressed_infatuated
			years = 5
		}
		ai_chance = { 
			factor = 70 
		}
	}
	option = { 
		name = EVTOPTFHF24139
		trigger = { 
			OR = {
				has_opinion_modifier = { 
					who = FROM
					modifier = opinion_infatuated
				} 
				is_lover = FROM
			}
		}
		transfer_scaled_wealth = { to = FROM value = 0.5 min = 10 max = 100 } 
		show_portrait = FROM
		hidden_tooltip = { FROM = { character_event = { id = HF.24140 } } } 
		ai_chance = { 
			factor = 20 
		}
	}
}

#Notified of present.
character_event = {
	id = HF.24140
	desc = EVTDESCAHF24140
	desc = EVTDESCBHF24140
	desc = EVTDESCCHF24140
	desc = EVTDESCDHF24140
	picture = GFX_evt_fancy_feast
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	notification = yes

	option = { 
		name = EVTOPTDHF24139
		ai_chance = { 
			factor = 25 
		}
	}
}

#Ruler cares more about appearances than substance.
character_event = {
	id = HF.24141
	desc = EVTDESCAHF24141
	picture = { 
		trigger = { 
			has_religion_feature = religion_matriarchal
		} 
		picture = GFX_evt_matriarchy_throne_room
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_patriarchal
		} 
		picture = GFX_evt_tengri_throneroom_oldgods
	}
	picture = { 
		trigger = { 
			NOR = { 
				has_religion_feature = religion_matriarchal
				has_religion_feature = religion_patriarchal
			}
		} 
		picture = GFX_evt_fancy_feast
	}
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTBHF24141
		random_list = {
			50 = {
				change_diplomacy = 1
			}
			50 = {
				change_stewardship = -1
			}
		}
		ai_chance = {
			factor = 75
		}
	}
}

#Ruler has become drunkard.
character_event = {
	id = HF.24142
	desc = { 
		trigger = { 
			is_female = yes
		} 
		text = EVTDESCAHF24142
	}
	desc = { 
		trigger = { 
			is_female = no
		} 
		text = EVTDESCBHF24142
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_matriarchal
		} 
		picture = GFX_evt_matriarchy_throne_room
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_patriarchal
		} 
		picture = GFX_evt_tengri_throneroom_oldgods
	}
	picture = { 
		trigger = { 
			NOR = { 
				has_religion_feature = religion_matriarchal
				has_religion_feature = religion_patriarchal
			}
		} 
		picture = GFX_evt_fancy_feast
	}
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	option = { #Diligent saves.
		name = EVTOPTAHF24142
		trigger = { trait = diligent }
		tooltip_info = diligent
		ai_chance = { 
			factor = 25 
		}
	}
	option = { 
		name = EVTOPTBHF24142
		if = { 
			limit = { trait = stressed }
			remove_trait = stressed 
		}
		add_trait = drunkard
		ai_chance = { 
			factor = 75 
		}
	}
}

#Ruler is having too many feasts.
character_event = {
	id = HF.24143
	desc = { 
		trigger = { 
			is_female = yes
		} 
		text = EVTDESCAHF24143
	}
	desc = { 
		trigger = { 
			is_female = no
		} 
		text = EVTDESCBHF24143
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_matriarchal
		} 
		picture = GFX_evt_matriarchy_throne_room
	}
	picture = { 
		trigger = { 
			has_religion_feature = religion_patriarchal
		} 
		picture = GFX_evt_tengri_throneroom_oldgods
	}
	picture = { 
		trigger = { 
			NOR = { 
				has_religion_feature = religion_matriarchal
				has_religion_feature = religion_patriarchal
			}
		} 
		picture = GFX_evt_fancy_feast
	}
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes

	option = { #Temperate saves.
		name = EVTOPTAHF24143
		trigger = { trait = temperate }
		tooltip_info = temperate
		ai_chance = { 
			factor = 25 
		}
	}
	option = { 
		name = {
			text = EVTOPTBHF24143_A
			trigger = {
				trait = is_malnourished
			}
		}
		name = {
			text = EVTOPTBHF24143_B
			trigger = {
				NOT = { trait = is_malnourished }
			}
		}
		if = { 
			limit = { trait = stressed }
			remove_trait = stressed 
		}
		custom_tooltip = { text = tooltip_warning_20606 }
		hidden_tooltip = { gain_weight_small_effect = yes }
		hidden_tooltip = { weight_trait_check_effect = yes }
		ai_chance = { 
			factor = 75 
		}
	}
}
